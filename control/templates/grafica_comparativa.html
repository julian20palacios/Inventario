{% extends 'base.html' %}

{% block content %}


<div class="row">
    <div class="col-md-9 mx-auto">
      <div class="card">
        <div class="card-body">
          <canvas id="myChart"></canvas>      
          <a href="{% url 'cantidad_datos' %}" class="btn btn-dark mr-3" id="graphButton">Volver</a>
        </div>
      </div>
    </div>
  </div>

    <canvas id="myChart"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Menor a 75', 'Esta entre 75 y 90', 'Es mayor a 90'],
            datasets: [{
              label: 'Tienda1',
              data: [{{ values_menor_75.0 }}, {{ values_entre_75_90.0 }}, {{ values_mayor_90.0 }}],
              backgroundColor: 'rgba(255, 99, 132, 0.5)',
              borderColor: 'rgba(255, 99, 132, 1)',
              borderWidth: 1,
              hoverBackgroundColor: 'rgba(255, 99, 132, 0.7)'
            },
            {
              label: 'Tienda2',
              data: [{{ values_menor_75.1 }}, {{ values_entre_75_90.1 }}, {{ values_mayor_90.1 }}],
              backgroundColor: 'rgba(54, 162, 235, 0.5)',
              borderColor: 'rgba(54, 162, 235, 1)',
              borderWidth: 1,
              hoverBackgroundColor: 'rgba(54, 162, 235, 0.7)'
            },
            {
              label: 'Tienda3',
              data: [{{ values_menor_75.2 }}, {{ values_entre_75_90.2 }}, {{ values_mayor_90.2 }}],
              backgroundColor: 'rgba(255, 206, 86, 0.5)',
              borderColor: 'rgba(255, 206, 86, 1)',
              borderWidth: 1,
              hoverBackgroundColor: 'rgba(255, 206, 86, 0.7)'
            },
            {
              label: 'Tienda4',
              data: [{{ values_menor_75.3 }}, {{ values_entre_75_90.3 }}, {{ values_mayor_90.3 }}],
              backgroundColor: 'rgba(0, 255, 0, 0.5)',
              borderColor: 'rgba(0, 255, 0, 1)',
              borderWidth: 1,
              hoverBackgroundColor: 'rgba(0, 255, 0, 0.7)'
            },
            {
              label: 'Tienda5',
              data: [{{ values_menor_75.4 }}, {{ values_entre_75_90.4 }}, {{ values_mayor_90.4 }}],
              backgroundColor: 'rgba(153, 102, 255, 0.5)',
              borderColor: 'rgba(153, 102, 255, 1)',
              borderWidth: 1,
              hoverBackgroundColor: 'rgba(153, 102, 255, 0.7)'
            }]
          },
          options: {
            scales: {
              yAxes: [{
                ticks: {
                  beginAtZero: true
                }
              }],
              xAxes: [{
                ticks: {
                  autoSkip: false,
                  maxRotation: 45,
                  minRotation: 45
                }
              }]
            },            
            legend: {
              display: true,
              labels: {
                fontColor: '#333',
                fontSize: 14
              }
            },
            animation: {
              duration: 2000,
              easing: 'easeInOutElastic'
            }
          }
        });
      </script>


{% endblock %}
